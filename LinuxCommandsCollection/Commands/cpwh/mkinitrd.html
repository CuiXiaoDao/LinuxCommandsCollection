<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
	<link rel="stylesheet" href="../css/default.css">
</head>
<body>
<div  class="category">功能说明：</div>
<p>建立要载入<span class="args">ramdisk</span>的映像文件。<br />
</p>
<div  class="category">语　　法：</div>
<p>mkinitrd [<span class="args">-fv</span>][<span class="args">--omit-scsi-modules</span>][<span class="args">--version</span>][<span class="args">--preload=</span>&lt;模块名称&gt;][<span class="args">--with=</span>&lt;模块名称&gt;][映像文件][<span class="args">Kernel </span>版本]<br />
</p>
<div  class="category">补充说明：</div>
<p><span class="args">mkinitrd</span>可建立映像文件，以供<span class="args">Linux</span>开机时载入ramdisk。<br />
</p>

<div  class="category">参　　数：</div>
<p>  <span class="args">-f</span>   若指定的映像问家名称与现有文件重复，则覆盖现有的文件。<br />
  　
  <span class="args">-v</span>　　执行时显示详细的信息。<br />
    
  <span class="args">--omit-scsi-modules</span>   不要载入<span class="args">SCSI</span>模块。<br />
    
  <span class="args">--preload=</span>&lt;模块名称&gt;   指定要载入的模块。<br />
    
  <span class="args">--with=</span>&lt;模块名称&gt;   指定要载入的模块。<br />
    
<span class="args">--version</span>   显示版本信息。</p>
<div  class="category">示例：</div>
<code>
[root@localhost tmp]# mkinitrd -v -f myinitrd.img $(uname -r)
Creating initramfs
WARNING: using /tmp for temporary files
Looking for deps of module ide-disk
Looking for deps of module ext3  jbd
Looking for deps of module jbd
Using modules:  ./kernel/fs/jbd/jbd.ko ./kernel/fs/ext3/ext3.ko
/sbin/nash -> /tmp/initrd.Vz3928/bin/nash
/sbin/insmod.static -> /tmp/initrd.Vz3928/bin/insmod
/sbin/udev.static -> /tmp/initrd.Vz3928/sbin/udev
/etc/udev/udev.conf -> /tmp/initrd.Vz3928/etc/udev/udev.conf
copy from /lib/modules/2.6.9-5.EL/./kernel/fs/jbd/jbd.ko(elf32-i386) to /tmp/initrd.Vz3928/lib/jbd.ko(elf32-i386)
copy from /lib/modules/2.6.9-5.EL/./kernel/fs/ext3/ext3.ko(elf32-i386) to /tmp/initrd.Vz3928/lib/ext3.ko(elf32-i386)
Loading module jbd
Loading module ext3

[root@localhost tmp]# file myinitrd.img
myinitrd.img: gzip compressed data, from Unix, max compression

[root@localhost tmp]# mv myinitrd.img  myinitrd.img.gz
[root@localhost tmp]# gzip -d myinitrd.img.gz
[root@localhost tmp]# file myinitrd.img
myinitrd.img: ASCII cpio archive (SVR4 with no CRC)
</code>
</body></html>