<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
	<link rel="stylesheet" href="../css/default.css">
</head>
<body>
<div  class="category">功能说明：</div>
<p>可存取SMB/CIFS服务器的用户端程序<br />
</p>
<div  class="category">语　　法：</div>
<p>smbclient [网络资源][密码][<span class="args">-EhLN</span>][<span class="args">B</span>&lt;IP地址&gt;][<span class="args">d</span>&lt;排错层级&gt;][<span class="args">i</span>&lt;范围&gt;][<span class="args">I</span>&lt;IP地址&gt;][<span class="args">l</span>&lt;记录文件&gt;]
[<span class="args">M</span>&lt;NetBIOS名称&gt;][<span class="args">n</span>&lt;NetBIOS名称&gt;][<span class="args">O</span>&lt;连接槽选项&gt;][<span class="args">p</span>&lt;TCP连接端口项&gt;][<span class="args">R</span>&lt;名称解析顺序&gt;][<span class="args">s</span>&lt;目录&gt;]
[<span class="args">t</span>&lt;服务器字码&gt;][<span class="args">T</span>&lt;tar选项&gt;][<span class="args">U</span>&lt;用户名称&gt;][<span class="args">W</span>&lt;工作群组&gt;]<br />
</p>
<div  class="category">补充说明：</div>
<p> <span class="args">SMB</span>与<span class="args">CIFS</span>为服务器通信协议，常用于Windows95/98/NT等系统。smbclient可让Linux系统存取Windows系统所分享的资源。</p>

<div  class="category">参　　数：</div>
<p>
  　
  [网络资源] 　[网络资源]的格式为//服务器名称/资源分享名称。 <br />
  　
  [密码]  　输入存取网络资源所需的密码。 <br />
  　
  <span class="args">-B</span>&lt;IP地址&gt; 　传送广播数据包时所用的IP地址。 <br />
  　
  <span class="args">-d</span>&lt;排错层级&gt; 　指定记录文件所记载事件的详细程度。 <br />
  　  
  <span class="args">-E</span>   将信息送到标准错误输出设备。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-h</span>   显示帮助。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-i</span>&lt;范围&gt;   设置NetBIOS名称范围。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-I</span>&lt;IP地址&gt;   指定服务器的IP地址。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-l</span>&lt;记录文件&gt;   指定记录文件的名称。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-L</span>   显示服务器端所分享出来的所有资源。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-M</span>&lt;NetBIOS名称&gt;   可利用WinPopup协议，将信息送给选项中所指定的主机。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-n</span>&lt;NetBIOS名称&gt;   指定用户端所要使用的NetBIOS名称。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-N</span>   不用询问密码。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-O</span>&lt;连接槽选项&gt;   设置用户端TCP连接槽的选项。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-p</span>&lt;TCP连接端口&gt;   指定服务器端TCP连接端口编号。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-R</span>&lt;名称解析顺序&gt;   设置NetBIOS名称解析的顺序。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-s</span>&lt;目录&gt;   指定smb.conf所在的目录。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-t</span>&lt;服务器字码&gt;   设置用何种字符码来解析服务器端的文件名称。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-T</span>&lt;tar选项&gt;   备份服务器端分享的全部文件，并打包成tar格式的文件。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-U</span>&lt;用户名称&gt;   指定用户名称。<br />
  &nbsp;&nbsp;&nbsp;&nbsp;<span class="args">-W</span>&lt;工作群组&gt;   指定工作群组名称。<br />
  
<div  class="category">示例：</div>
<code>
列出某个IP地址所提供的共享文件夹
smbclient -L 198.168.0.1 -U username%password

像ftp客户端一样使用smbclient
smbclient //192.168.0.1/tmp  -U username%password

执行smbclient命令成功后，进入smbclient环境，出现提示符：smb:/>

这里有许多命令和ftp命令相似，如cd 、lcd、get、megt、put、mput等。通过这些命令，我们可以访问远程主机的共享资源。

直接一次性使用smbclient命令
smbclient -c "ls"  //192.168.0.1/tmp  -U username%password

和
smbclient //192.168.0.1/tmp  -U username%password
smb:/>ls

功能一样的。

创建一个共享文件夹
smbclient -c "mkdir share1" //192.168.0.1/tmp -U username%password

如果用户共享//192.168.0.1/tmp的方式是只读的，会提示NT_STATUS_ACCESS_DENIED making remote directory /share1
</code>
</body></html>