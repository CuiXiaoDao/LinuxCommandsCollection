<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
	<link rel="stylesheet" href="../css/default.css">
</head>
<body>
<div  class="category">功能说明：</div>
<p>备份文件。<br />
</p>
<div  class="category">语　　法：</div>
<p>cpio [<span class="args">-0aABckLovV</span>][<span class="args">-C</span> &lt;输入/输出大小&gt;][<span class="args">-F</span> &lt;备份档&gt;][<span class="args">-H</span> &lt;备份格式&gt;][<span class="args">-O</span> &lt;备份档&gt;][<span class="args">--block-size=</span>&lt;区块大小&gt;][<span class="args">--force-local</span>][<span class="args">--help</span>][<span class="args">--quiet</span>][<span class="args">--version</span>] 或 cpio [<span class="args">-bBcdfikmnrsStuvV</span>][<span class="args">-C</span> &lt;输入/输出大小&gt;][<span class="args">-E</span> &lt;范本文件&gt;][<span class="args">-F</span> &lt;备份档&gt;][<span class="args">-H</span> &lt;备份格式&gt;][<span class="args">-I</span> &lt;备份档&gt;][<span class="args">-M</span> &lt;回传信息&gt;][<span class="args">-R</span> &lt;拥有者&gt;&lt;:/.&gt;&lt;所属群组&gt;][<span class="args">--block-size=</span>&lt;区块大小&gt;][<span class="args">--force-local</span>][<span class="args">--help</span>][<span class="args">--no-absolute-filenames</span>][<span class="args">--no-preserve-owner</span>][<span class="args">--only-verify-crc</span>][<span class="args">--quiet</span>][<span class="args">--sparse</span>][<span class="args">--version</span>][范本样式...] 或 cpio [<span class="args">-0adkiLmpuvV</span>][<span class="args">-R</span> &lt;拥有者&gt;&lt;:/.&gt;&lt;所属群组&gt;][<span class="args">--help</span>][<span class="args">--no-preserve-owner</span>][<span class="args">--quiet</span>][<span class="args">--sparse</span>][<span class="args">--version</span>][目的目]<br />
</p>
<div  class="category">补充说明：</div>
<p><span class="args">cpio</span>是用来建立，还原备份档的工具程序，它可以加入，解开<span class="args">cpio</span>或<span class="args">tra</span>备份档内的文件。<br />
</p>

<div  class="category">参　　数：</div>
<table border="0" cellspacing="0" cellpadding="0" width="100%">
  <tbody>
    <tr>
      <td>　-0或<span class="args">--null 　</span>接受新增列控制字符，通常配合<span class="args">find</span>指令的&quot;-print0&quot;参数使用。 <br />
        　
        <span class="args">-a</span>或<span class="args">--reset-access-time</span> 　重新设置文件的存取时间。 <br />
　
<span class="args">-A</span>或<span class="args">--append 　</span>附加到已存在的备份档中，且这个备份档必须存放在磁盘上，而不能放置于磁带机里。         <br />
　
<span class="args">-b</span>或<span class="args">--swap 　</span>此参数的效果和同时指定        &quot;-sS&quot;参数相同。 <br />
　
<span class="args">-B 　</span>将输入/输出的区块大小改成5210 Bytes。         <br />
　
<span class="args">-c 　</span>使用旧<span class="args">ASCII</span>备份格式。         <br />
　
<span class="args">-C</span>        &lt;区块大小&gt;或<span class="args">--io-size=</span>&lt;区块大小&gt; 　设置输入/输出的区块大小，单位是Byte。 <br />
　
<span class="args">-d</span>或<span class="args">--make-directories 　</span>如有需要<span class="args">cpio</span>会自行建立目录。         <br />
　
<span class="args">-E</span>        &lt;范本文件&gt;或<span class="args">--pattern-file=</span>&lt;范本文件&gt; 　指定范本文件，其内含有一个或多个范本样式，让<span class="args">cpio</span>解开符合范本条件的文件，格式为每列一个范本样式。 <br />
　
<span class="args">-f</span>或<span class="args">--nonmatching 　</span>让<span class="args">cpio</span>解开所有不符合范本条件的文件。         <br />
　
<span class="args">-F</span>        &lt;备份档&gt;或<span class="args">--file=</span>&lt;备份档&gt; 　指定备份档的名称，用来取代标准输入或输出，也能借此通过网络使用另一台主机的保存设备存取备份档。 <br />
　
<span class="args">-H</span>        &lt;备份格式&gt; 　指定备份时欲使用的文件格式。 <br />
　
<span class="args">-i</span>或<span class="args">--extract 　</span>执行<span class="args">copy-in</span>模式，还原备份档。         <br />
　
<span class="args">-l</span>        &lt;备份档&gt; 　指定备份档的名称，用来取代标准输入，也能借此通过网络使用另一台主机的保存设备读取备份档。 <br />
　
<span class="args">-k 　</span>此参数将忽略不予处理，仅负责解决<span class="args">cpio</span>不同版本间的兼容性问题。         <br />
　
<span class="args">-l</span>或<span class="args">--link 　</span>以硬连接的方式取代复制文件，可在<span class="args">copy-pass</span>模式下运用。         <br />
　
<span class="args">-L</span>或<span class="args">--dereference 　</span>不建立符号连接，直接复制该连接所指向的原始文件。         <br />
　
<span class="args">-m</span>或<span class="args">preserve-modification-time</span> 　不去更换文件的更改时间。         <br />
　
<span class="args">-M</span>        &lt;回传信息&gt;或<span class="args">--message=</span>&lt;回传信息&gt; 　设置更换保存媒体的信息。 <br />
　
<span class="args">-n</span>或<span class="args">--numeric-uid-gid</span> 　使用        &quot;-tv&quot;参数列出备份档的内容时，若再加上参数&quot;-n&quot;，则会以用户识别码和群组识别码替代拥有者和群组名称列出文件清单。 <br />
　
<span class="args">-o</span>或<span class="args">--create 　</span>执行<span class="args">copy-out</span>模式，建立备份档。         <br />
　
<span class="args">-O</span>        &lt;备份档&gt; 　指定备份档的名称，用来取代标准输出，也能借此通过网络　使用另一台主机的保存设备存放备份档。 <br />
　
<span class="args">-p</span>或<span class="args">--pass-through 　</span>执行<span class="args">copy-pass</span>模式，略过备份步骤，直接将文件复制到目的目录。         <br />
　
<span class="args">-r</span>或<span class="args">--rename 　</span>当有文件名称需要更动时，采用互动模式。         <br />
　
<span class="args">-R</span>        &lt;拥有者&gt;&lt;:/.&gt;&lt;所属群组&gt;或<br />
　
<span class="args">----owner</span>        &lt;拥有者&gt;&lt;:/.&gt;&lt;所属群组&gt; 　在<span class="args">copy-in</span>模式还原备份档，或<span class="args">copy-pass</span>模式复制文件时，可指定这些备份，复制的文件的拥有者与所属群组。 <br />
　
<span class="args">-s</span>或<span class="args">--swap-bytes 　</span>交换每对字节的内容。         <br />
　
<span class="args">-S</span>或<span class="args">--swap-halfwords 　</span>交换每半个字节的内容。         <br />
　
<span class="args">-t</span>或<span class="args">--list 　</span>将输入的内容呈现出来。         <br />
　
<span class="args">-u</span>或<span class="args">--unconditional 　</span>置换所有文件，不论日期时间的新旧与否，皆不予询问而直接覆盖。         <br />
　
<span class="args">-v</span>或<span class="args">--verbose 　</span>详细显示指令的执行过程。         <br />
　
<span class="args">-V</span>或<span class="args">--dot 　</span>执行指令时，在每个文件的执行程序前面加上        &quot;.&quot;号 <br />
　
--block-size=        &lt;区块大小&gt; 　设置输入/输出的区块大小，假如设置数值为5，则区块大小为2500，若设置成10，则区块大小为5120，依次类推。 <br />
　
<span class="args">--force-local 　</span>强制将备份档存放在本地主机。         <br />
　
<span class="args">--help 　</span>在线帮助。         <br />
　
<span class="args">--no-absolute-filenames</span> 　使用相对路径建立文件名称。         <br />
　
<span class="args">--no-preserve-owner</span> 　不保留文件的拥有者，谁解开了备份档，那些文件就归谁所有。         <br />
　
<span class="args">-only-verify-crc</span> 　当备份档采用<span class="args">CRC</span>备份格式时，可使用这项参数检查备份档内的每个文件是否正确无误。         <br />
　
<span class="args">--quiet 　</span>不显示复制了多少区块。         <br />
　
<span class="args">--sparse 　</span>倘若一个文件内含大量的连续0字节，则将此文件存成稀疏文件。         <br />
　
<span class="args">--version 　</span>显示版本信息。        </td>
    </tr>
  </tbody>
</table>
<p>&nbsp;</p>
<div  class="category">示例：</div>
<code>
将/etc下的所有普通文件都备份到/opt/etc.cpio，使用以下命令：
find /etc –type f | cpio –ocvB >/opt/etc.cpio

将系统上所有资料备份到磁带机内，使用以下命令：
find / -print | cpio -covB > /dev/st0

这里的/dev/st0是磁带的设备名，代表SCSI磁带机。

查看上例磁带机上备份的文件，使用以下命令：
cpio  -icdvt < /dev/st0 > /tmp/st_content

</code>
</body></html>