<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
	<link rel="stylesheet" href="../css/default.css">
</head>
<body>
<div  class="category">功能说明：</div>
<p>查找文件或目录。<br />
</p>
<div  class="category">语　　法：</div>
<p>find [目录...][<span class="args">-amin</span> &lt;分钟&gt;][<span class="args">-anewer</span> &lt;参考文件或目录&gt;][<span class="args">-atime</span> &lt;24小时数&gt;][<span class="args">-cmin</span> &lt;分钟&gt;][<span class="args">-cnewer</span> &lt;参考文件或目录&gt;][<span class="args">-ctime</span> &lt;24小时数&gt;][<span class="args">-daystart</span>][<span class="args">-depyh</span>][<span class="args">-empty</span>][<span class="args">-exec</span> &lt;执行指令&gt;][<span class="args">-false</span>][<span class="args">-fls</span> &lt;列表文件&gt;][<span class="args">-follow</span>][<span class="args">-fprint</span> &lt;列表文件&gt;][<span class="args">-fprint</span>0 &lt;列表文件&gt;][<span class="args">-fprintf</span> &lt;列表文件&gt;&lt;输出格式&gt;][<span class="args">-fstype</span> &lt;文件系统类型&gt;][<span class="args">-gid</span> &lt;群组识别码&gt;][<span class="args">-group</span> &lt;群组名称&gt;][<span class="args">-help</span>][<span class="args">-ilname</span> &lt;范本样式&gt;][<span class="args">-iname</span> &lt;范本样式&gt;][<span class="args">-inum</span> &lt;<span class="args">inode</span>编号&gt;][<span class="args">-ipath</span> &lt;范本样式&gt;][<span class="args">-iregex</span> &lt;范本样式&gt;][<span class="args">-links</span> &lt;连接数目&gt;][<span class="args">-lname</span> &lt;范本样式&gt;][<span class="args">-ls</span>][<span class="args">-maxdepth</span> &lt;目录层级&gt;][<span class="args">-mindepth</span> &lt;目录层级&gt;][<span class="args">-mmin</span> &lt;分钟&gt;][<span class="args">-mount</span>] <br />
  [<span class="args">-mtime</span> &lt;24小时数&gt;][<span class="args">-name</span> &lt;范本样式&gt;][<span class="args">-newer</span> &lt;参考文件或目录&gt;][<span class="args">-nogroup</span>][<span class="args">noleaf</span>] [<span class="args">-nouser</span>][<span class="args">-ok</span> &lt;执行指令&gt;][<span class="args">-path</span> &lt;范本样式&gt;][<span class="args">-perm</span> &lt;权限数值&gt;][<span class="args">-print</span>][<span class="args">-print</span>0][<span class="args">-printf</span> &lt;输出格式&gt;][<span class="args">-prune</span>][<span class="args">-regex</span> &lt;范本样式&gt;][<span class="args">-size</span> &lt;文件大小&gt;][<span class="args">-true</span>][<span class="args">-type</span> &lt;文件类型&gt;][<span class="args">-uid</span> &lt;用户识别码&gt;][<span class="args">-used</span> &lt;日数&gt;][<span class="args">-user</span> &lt;拥有者名称&gt;][<span class="args">-version</span>][<span class="args">-xdev</span>][<span class="args">-xtype</span> &lt;文件类型&gt;]<br />
</p>
<div  class="category">补充说明：</div>
<p><span class="args">find</span>指令用于查找符合条件的文件。任何位于参数之前的字符串都将被视为欲查找的目录。<br />
</p>

<div  class="category">参　　数：</div>
<p>　 <span class="args">-amin</span>&lt;分钟&gt; 　查找在指定时间曾被存取过的文件或目录，单位以分钟计算。 <br />
  　
  <span class="args">-anewer</span>&lt;参考文件或目录&gt; 　查找其存取时间较指定文件或目录的存取时间更接近现在的文件或目录。 <br />
  　
  <span class="args">-atime</span>&lt;24小时数&gt; 　查找在指定时间曾被存取过的文件或目录，单位以24小时计算。 <br />
  　
  <span class="args">-cmin</span>&lt;分钟&gt; 　查找在指定时间之时被更改的文件或目录。 <br />
  　
  <span class="args">-cnewer</span>&lt;参考文件或目录&gt; 　查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录。 <br />
  　
  <span class="args">-ctime</span>&lt;24小时数&gt; 　查找在指定时间之时被更改的文件或目录，单位以24小时计算。 <br />
  　
  <span class="args">-daystart</span> 　从本日开始计算时间。 <br />
  　
  <span class="args">-depth</span> 　从指定目录下最深层的子目录开始查找。 <br />
  　
  <span class="args">-expty</span> 　寻找文件大小为0 <span class="args">Byte</span>的文件，或目录下没有任何子目录或文件的空目录。 <br />
  　
  <span class="args">-exec</span>&lt;执行指令&gt; 　假设<span class="args">find</span>指令的回传值为<span class="args">True</span>，就执行该指令。 <br />
  　
  <span class="args">-false</span> 　将<span class="args">find</span>指令的回传值皆设为False。 <br />
  　
  <span class="args">-fls</span>&lt;列表文件&gt; 　此参数的效果和指定&quot;-ls&quot;参数类似，但会把结果保存为指定的列表文件。 <br />
  　
  <span class="args">-follow</span> 　排除符号连接。 <br />
  　
  <span class="args">-fprint</span>&lt;列表文件&gt; 　此参数的效果和指定&quot;-print&quot;参数类似，但会把结果保存成指定的列表文件。 <br />
  　
  <span class="args">-fprint0</span>&lt;列表文件&gt; 　此参数的效果和指定&quot;-print0&quot;参数类似，但会把结果保存成指定的列表文件。 <br />
  　
  <span class="args">-fprintf</span>&lt;列表文件&gt;&lt;输出格式&gt; 　此参数的效果和指定&quot;-printf&quot;参数类似，但会把结果保存成指定的列表文件。 <br />
  　
  <span class="args">-fstype</span>&lt;文件系统类型&gt; 　只寻找该文件系统类型下的文件或目录。 <br />
  　
  <span class="args">-gid</span>&lt;群组识别码&gt; 　查找符合指定之群组识别码的文件或目录。 <br />
  　
  <span class="args">-group</span>&lt;群组名称&gt; 　查找符合指定之群组名称的文件或目录。 <br />
  　
  <span class="args">-help</span>或<span class="args">--help 　</span>在线帮助。 <br />
  　
  <span class="args">-ilname</span>&lt;范本样式&gt; 　此参数的效果和指定&quot;-lname&quot;参数类似，但忽略字符大小写的差别。 <br />
  　
  <span class="args">-iname</span>&lt;范本样式&gt; 　此参数的效果和指定&quot;-name&quot;参数类似，但忽略字符大小写的差别。 <br />
  　
  <span class="args">-inum</span>&lt;<span class="args">inode</span>编号&gt; 　查找符合指定的<span class="args">inode</span>编号的文件或目录。 <br />
  　
  <span class="args">-ipath</span>&lt;范本样式&gt; 　此参数的效果和指定&quot;-ipath&quot;参数类似，但忽略字符大小写的差别。 <br />
  　
  <span class="args">-iregex</span>&lt;范本样式&gt; 　此参数的效果和指定&quot;-regexe&quot;参数类似，但忽略字符大小写的差别。 <br />
  　
  <span class="args">-links</span>&lt;连接数目&gt; 　查找符合指定的硬连接数目的文件或目录。 <br />
  　
  <span class="args">-iname</span>&lt;范本样式&gt; 　指定字符串作为寻找符号连接的范本样式。 <br />
  　
  <span class="args">-ls</span> 　假设<span class="args">find</span>指令的回传值为<span class="args">True</span>，就将文件或目录名称列出到标准输出。 <br />
  　
  <span class="args">-maxdepth</span>&lt;目录层级&gt; 　设置最大目录层级。 <br />
  　
  <span class="args">-mindepth</span>&lt;目录层级&gt; 　设置最小目录层级。 <br />
  　
  <span class="args">-mmin</span>&lt;分钟&gt; 　查找在指定时间曾被更改过的文件或目录，单位以分钟计算。 <br />
  　
  <span class="args">-mount</span> 　此参数的效果和指定&quot;-xdev&quot;相同。 <br />
  　
  <span class="args">-mtime</span>&lt;24小时数&gt; 　查找在指定时间曾被更改过的文件或目录，单位以24小时计算。 <br />
  　
  <span class="args">-name</span>&lt;范本样式&gt; 　指定字符串作为寻找文件或目录的范本样式。 <br />
  　
  <span class="args">-newer</span>&lt;参考文件或目录&gt; 　查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录。 <br />
  　
  <span class="args">-nogroup</span> 　找出不属于本地主机群组识别码的文件或目录。 <br />
  　
  <span class="args">-noleaf</span> 　不去考虑目录至少需拥有两个硬连接存在。 <br />
  　
  <span class="args">-nouser</span> 　找出不属于本地主机用户识别码的文件或目录。 <br />
  　
  <span class="args">-ok</span>&lt;执行指令&gt; 　此参数的效果和指定&quot;-exec&quot;参数类似，但在执行指令之前会先询问用户，若回答&quot;y&quot;或&quot;Y&quot;，则放弃执行指令。 <br />
  　
  <span class="args">-path</span>&lt;范本样式&gt; 　指定字符串作为寻找目录的范本样式。 <br />
  　
  <span class="args">-perm</span>&lt;权限数值&gt; 　查找符合指定的权限数值的文件或目录。 <br />
  　
  <span class="args">-print</span> 　假设<span class="args">find</span>指令的回传值为<span class="args">True</span>，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称之前皆有&quot;./&quot;字符串。 <br />
  　
  <span class="args">-print0 　</span>假设<span class="args">find</span>指令的回传值为<span class="args">True</span>，就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行。 <br />
  　
  <span class="args">-printf</span>&lt;输出格式&gt; 　假设<span class="args">find</span>指令的回传值为<span class="args">True</span>，就将文件或目录名称列出到标准输出。格式可以自行指定。 <br />
  　
  <span class="args">-prune</span> 　不寻找字符串作为寻找文件或目录的范本样式。 <br />
  　
  <span class="args">-regex</span>&lt;范本样式&gt; 　指定字符串作为寻找文件或目录的范本样式。 <br />
  　
  <span class="args">-size</span>&lt;文件大小&gt; 　查找符合指定的文件大小的文件。 <br />
  　
  <span class="args">-true</span> 　将<span class="args">find</span>指令的回传值皆设为True。 <br />
  　
  <span class="args">-typ</span>&lt;文件类型&gt; 　只寻找符合指定的文件类型的文件。 <br />
  　
  <span class="args">-uid</span>&lt;用户识别码&gt; 　查找符合指定的用户识别码的文件或目录。 <br />
  　
  <span class="args">-used</span>&lt;日数&gt; 　查找文件或目录被更改之后在指定时间曾被存取过的文件或目录，单位以日计算。 <br />
  　
  <span class="args">-user</span>&lt;拥有者名称&gt; 　查找符合指定的拥有者名称的文件或目录。 <br />
  　
  <span class="args">-version</span>或<span class="args">--version 　</span>显示版本信息。 <br />
  　
  <span class="args">-xdev</span> 　将范围局限在先行的文件系统中。 <br />
  　
<span class="args">-xtype</span>&lt;文件类型&gt; 　此参数的效果和指定&quot;-type&quot;参数类似，差别在于它针对符号连接检查。</p>
<div  class="category">示例：</div>
<code>
根据文件或者正则表达式进行匹配


列出当前目录及子目录下所有文件和文件夹
find .

在/home目录下查找以.txt结尾的文件名
find /home -name "*.txt"

同上，但忽略大小写
find /home -iname "*.txt"

当前目录及子目录下查找所有以.txt和.pdf结尾的文件
find . \( -name "*.txt" -o -name "*.pdf" \)

或

find . -name "*.txt" -o -name "*.pdf" 

匹配文件路径或者文件
find /usr/ -path "*local*"

基于正则表达式匹配文件路径
find . -regex ".*\(\.txt\|\.pdf\)$"

同上，但忽略大小写
find . -iregex ".*\(\.txt\|\.pdf\)$"

否定参数


找出/home下不是以.txt结尾的文件
find /home ! -name "*.txt"

根据文件类型进行搜索

find . -type 类型参数

类型参数列表：
• f 普通文件
• l 符号连接
• d 目录
• c 字符设备
• b 块设备
• s 套接字
• p Fifo

基于目录深度搜索


向下最大深度限制为3
find . -maxdepth 3 -type f

搜索出深度距离当前目录至少2个子目录的所有文件
find . -mindepth 2 -type f

根据文件时间戳进行搜索

find . -type f 时间戳

UNIX/Linux文件系统每个文件都有三种时间戳：
• 访问时间（-atime/天，-amin/分钟）：用户最近一次访问时间。
• 修改时间（-mtime/天，-mmin/分钟）：文件最后一次修改时间。
• 变化时间（-ctime/天，-cmin/分钟）：文件数据元（例如权限等）最后一次修改时间。

搜索最近七天内被访问过的所有文件
find . -type f -atime -7

搜索恰好在七天前被访问过的所有文件
find . -type f -atime 7

搜索超过七天内被访问过的所有文件
find . -type f -atime +7

搜索访问时间超过10分钟的所有文件
find . -type f -amin +10

找出比file.log修改时间更长的所有文件
find . -type f -newer file.log

根据文件大小进行匹配

find . -type f -size 文件大小单元

文件大小单元：
• b —— 块（512字节）
• c —— 字节
• w —— 字（2字节）
• k —— 千字节
• M —— 兆字节
• G —— 吉字节

搜索大于10KB的文件
find . -type f -size +10k

搜索小于10KB的文件
find . -type f -size -10k

搜索等于10KB的文件
find . -type f -size 10k

删除匹配文件


删除当前目录下所有.txt文件
find . -type f -name "*.txt" -delete

根据文件权限/所有权进行匹配


当前目录下搜索出权限为777的文件
find . -type f -perm 777

找出当前目录下权限不是644的php文件
find . -type f -name "*.php" ! -perm 644

找出当前目录用户tom拥有的所有文件
find . -type f -user tom

找出当前目录用户组sunk拥有的所有文件
find . -type f -group sunk

借助-exec选项与其他命令结合使用


找出当前目录下所有root的文件，并把所有权更改为用户tom
find .-type f -user root -exec chown tom {} \;

上例中，{} 用于与-exec选项结合使用来匹配所有文件，然后会被替换为相应的文件名。

找出自己家目录下所有的.txt文件并删除
find $HOME/. -name "*.txt" -ok rm {} \;

上例中，-ok和-exec行为一样，不过它会给出提示，是否执行相应的操作。

查找当前目录下所有.txt文件并把他们拼接起来写入到all.txt文件中
find . -type f -name "*.txt" -exec cat {} \;> all.txt

将30天前的.log文件移动到old目录中
find . -type f -mtime +30 -name "*.log" -exec cp {} old \;

找出当前目录下所有.txt文件并以“File:文件名”的形式打印出来
find . -type f -name "*.txt" -exec printf "File: %s\n" {} \;

因为单行命令中-exec参数中无法使用多个命令，以下方法可以实现在-exec之后接受多条命令
-exec ./text.sh {} \;

搜索但跳出指定的目录


查找当前目录或者子目录下所有.txt文件，但是跳过子目录sk
find . -path "./sk" -prune -o -name "*.txt" -print

find其他技巧收集


要列出所有长度为零的文件
find . -empty
</code>
</body></html>